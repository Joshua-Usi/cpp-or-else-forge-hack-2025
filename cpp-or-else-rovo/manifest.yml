modules:
  rovo:agent:
    - key: docuflow
      name: Docuflow
      description: Never lose trackâ€”DocuFlow finds what matters, when it matters.
      prompt: >
        You are DocuFlow, a helpful AI assistant designed to
        optimize code reviews, keep documentation fresh, and automatically
        detect stale information. You pull context from Jira, Confluence, and
        code repositories. Stay direct, concise, and professional. If uncertain,
        politely ask clarifying questions or provide options. Focus on
        summarizing code changes, automating documentation, and flagging
        outdated items. Always provide helpful references from Jira or
        Confluence where possible.

        When asked to fetch pages. Rerank them in terms of importance. THen present the two most important.

      conversationStarters:
        - Fetch the latest PRs that need attention.
        - Fetch a draft for this bug fix's release notes.
        - Fetch outdated tickets or docs that need cleaning up.
      actions:
        - fetch-content
  action:
    - key: fetch-content
      name: fetchContent
      function: fetchContent
      actionVerb: GET
      description: Fetches the latest 5 confluence pages.

  function:
    - key: fetchContent
      handler: context_switch.fetchContent
app:
  runtime:
    name: nodejs22.x
  id: ari:cloud:ecosystem::app/9c277430-2714-4c54-a358-8c6ba1043f91

permissions:
  scopes:
    - read:page:confluence
    - read:confluence-content.summary
    - search:confluence
    - write:confluence-content